### ðŸ“„ .gitignore

**GrÃ¶ÃŸe:** 29 B | **md5:** `98bcb2d7445831c7821b9c9f9234a0a0`

```plaintext
target/

.venv/
__pycache__/
```

### ðŸ“„ CONTRIBUTING.md

**GrÃ¶ÃŸe:** 570 B | **md5:** `4b790aec5719a4de163dcdf25ceda143`

```markdown
# Beitrag leisten

Danke fÃ¼r deinen Beitrag zu **heimlern**.

## Setup
```bash
git clone https://github.com/heimgewebe/heimlern.git
cd heimlern
cargo build --workspace
cargo test  --workspace
```

## Coding-Guidelines (Kurz)
- Keine `unwrap()`/`expect()` in Bibliothekscode â€“ stattdessen `Result` zurÃ¼ckgeben.
- Unit-Tests in jeder Crate fÃ¼r Kernstrukturen.
- PRs gegen `main` mit â€žgrÃ¼nerâ€œ CI.

## Commit-Stil
- PrÃ¤fixe: `feat:`, `fix:`, `docs:`, `ci:`, `refactor:`, `test:`, `chore:`

## Lizenz
Durch das Einreichen eines PR stimmst du der Projektlizenz zu.
```

### ðŸ“„ Cargo.lock

**GrÃ¶ÃŸe:** 5 KB | **md5:** `a5f76c2e3635c827149dfb4eab097503`

```plaintext
# This file is automatically @generated by Cargo.
# It is not intended for manual editing.
version = 4

[[package]]
name = "cfg-if"
version = "1.0.3"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "2fd1289c04a9ea8cb22300a459a72a385d7c73d3259e2ed7dcb2af674838cfa9"

[[package]]
name = "getrandom"
version = "0.2.16"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "335ff9f135e4384c8150d6f27c6daed433577f86b4750418338c01a1a2528592"
dependencies = [
 "cfg-if",
 "libc",
 "wasi",
]

[[package]]
name = "heimlern-bandits"
version = "0.1.0"
dependencies = [
 "heimlern-core",
 "rand",
 "serde",
 "serde_json",
 "thiserror",
]

[[package]]
name = "heimlern-core"
version = "0.1.0"
dependencies = [
 "serde",
 "serde_json",
]

[[package]]
name = "itoa"
version = "1.0.15"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "4a5f13b858c8d314ee3e8f639011f7ccefe71f97f96e50151fb991f267928e2c"

[[package]]
name = "libc"
version = "0.2.177"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "2874a2af47a2325c2001a6e6fad9b16a53b802102b528163885171cf92b15976"

[[package]]
name = "memchr"
version = "2.7.6"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "f52b00d39961fc5b2736ea853c9cc86238e165017a493d1d5c8eac6bdc4cc273"

[[package]]
name = "ppv-lite86"
version = "0.2.21"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "85eae3c4ed2f50dcfe72643da4befc30deadb458a9b590d720cde2f2b1e97da9"
dependencies = [
 "zerocopy",
]

[[package]]
name = "proc-macro2"
version = "1.0.101"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "89ae43fd86e4158d6db51ad8e2b80f313af9cc74f5c0e03ccb87de09998732de"
dependencies = [
 "unicode-ident",
]

[[package]]
name = "quote"
version = "1.0.41"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "ce25767e7b499d1b604768e7cde645d14cc8584231ea6b295e9c9eb22c02e1d1"
dependencies = [
 "proc-macro2",
]

[[package]]
name = "rand"
version = "0.8.5"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "34af8d1a0e25924bc5b7c43c079c942339d8f0a8b57c39049bef581b46327404"
dependencies = [
 "libc",
 "rand_chacha",
 "rand_core",
]

[[package]]
name = "rand_chacha"
version = "0.3.1"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "e6c10a63a0fa32252be49d21e7709d4d4baf8d231c2dbce1eaa8141b9b127d88"
dependencies = [
 "ppv-lite86",
 "rand_core",
]

[[package]]
name = "rand_core"
version = "0.6.4"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "ec0be4795e2f6a28069bec0b5ff3e2ac9bafc99e6a9a7dc3547996c5c816922c"
dependencies = [
 "getrandom",
]

[[package]]
name = "ryu"
version = "1.0.20"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "28d3b2b1366ec20994f1fd18c3c594f05c5dd4bc44d8bb0c1c632c8d6829481f"

[[package]]
name = "serde"
version = "1.0.228"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "9a8e94ea7f378bd32cbbd37198a4a91436180c5bb472411e48b5ec2e2124ae9e"
dependencies = [
 "serde_core",
 "serde_derive",
]

[[package]]
name = "serde_core"
version = "1.0.228"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "41d385c7d4ca58e59fc732af25c3983b67ac852c1a25000afe1175de458b67ad"
dependencies = [
 "serde_derive",
]

[[package]]
name = "serde_derive"
version = "1.0.228"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "d540f220d3187173da220f885ab66608367b6574e925011a9353e4badda91d79"
dependencies = [
 "proc-macro2",
 "quote",
 "syn",
]

[[package]]
name = "serde_json"
version = "1.0.145"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "402a6f66d8c709116cf22f558eab210f5a50187f702eb4d7e5ef38d9a7f1c79c"
dependencies = [
 "itoa",
 "memchr",
 "ryu",
 "serde",
 "serde_core",
]

[[package]]
name = "syn"
version = "2.0.106"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "ede7c438028d4436d71104916910f5bb611972c5cfd7f89b8300a8186e6fada6"
dependencies = [
 "proc-macro2",
 "quote",
 "unicode-ident",
]

[[package]]
name = "thiserror"
version = "1.0.69"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "b6aaf5339b578ea85b50e080feb250a3e8ae8cfcdff9a461c9ec2904bc923f52"
dependencies = [
 "thiserror-impl",
]

[[package]]
name = "thiserror-impl"
version = "1.0.69"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "4fee6c4efc90059e10f81e6d42c60a18f76588c3d74cb83a0b242a2b6c7504c1"
dependencies = [
 "proc-macro2",
 "quote",
 "syn",
]

[[package]]
name = "unicode-ident"
version = "1.0.19"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "f63a545481291138910575129486daeaf8ac54aee4387fe7906919f7830c7d9d"

[[package]]
name = "wasi"
version = "0.11.1+wasi-snapshot-preview1"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "ccf3ec651a847eb01de73ccad15eb7d99f80485de043efb2f370cd654f4ea44b"

[[package]]
name = "zerocopy"
version = "0.8.27"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "0894878a5fa3edfd6da3f88c4805f4c8558e2b996227a3d864f47fe11e38282c"
dependencies = [
 "zerocopy-derive",
]

[[package]]
name = "zerocopy-derive"
version = "0.8.27"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "88d2b8d9c68ad2b9e4340d7832716a4d21a22a1154777ad56ea55c51a9cf3831"
dependencies = [
 "proc-macro2",
 "quote",
 "syn",
]
```

### ðŸ“„ Cargo.toml

**GrÃ¶ÃŸe:** 152 B | **md5:** `effe0f96dfcfefeb1240c84457bdf70f`

```toml
[workspace]
resolver = "2"
members = ["crates/heimlern-core","crates/heimlern-bandits"]

[profile.release]
opt-level = "z"
lto = true
codegen-units = 1
```

### ðŸ“„ Justfile

**GrÃ¶ÃŸe:** 949 B | **md5:** `dfec7b7b046f1428611639b125ce350e`

```plaintext
set shell := ["bash","-eu","-o","pipefail","-c"]

default: schema:validate

# ---- Python venv fÃ¼r Tools (jsonschema) ----
venv:
	@test -d .venv || python3 -m venv .venv
	. .venv/bin/activate && python -m pip install --upgrade pip
	. .venv/bin/activate && pip install -r requirements-tools.txt

# ---- Beispiele schreiben ----
snapshot:example:
	. .venv/bin/activate || true
	python3 scripts/examples.py
	@ls -l /tmp/heimlern_snapshot.json

feedback:example:
	. .venv/bin/activate || true
	python3 scripts/examples.py
	@ls -l /tmp/heimlern_feedback.json

# ---- Validierung ----
schema:validate: venv
	. .venv/bin/activate && python scripts/examples.py
	. .venv/bin/activate && python scripts/validate_json.py contracts/policy_snapshot.schema.json /tmp/heimlern_snapshot.json
	. .venv/bin/activate && python scripts/validate_json.py contracts/policy_feedback.schema.json /tmp/heimlern_feedback.json
	@echo "âœ“ alle Beispiel-Dokumente sind valide"
```

### ðŸ“„ LICENSE

**GrÃ¶ÃŸe:** 236 B | **md5:** `add9e052397f3389aad535e258d9ddf9`

```plaintext
MIT License
Copyright (c) 2025 heimgewebe
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction...
```

### ðŸ“„ README.md

**GrÃ¶ÃŸe:** 4 KB | **md5:** `bea089ac3698fa1e7b56a588e00de24b`

```markdown
# heimlern

[![rust (cached)](https://github.com/heimgewebe/heimlern/actions/workflows/ci-rust.yml/badge.svg)](https://github.com/heimgewebe/heimlern/actions/workflows/ci-rust.yml)
[![License: MIT](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

Siehe auch: **Policy-Lifecycle**: `docs/policy-lifecycle.md` und **Contracts** in `contracts/`.

`heimlern` ist ein kleines Experimentierfeld fÃ¼r lernfÃ¤hige Policies im hÃ¤uslichen Umfeld. Das Repository besteht aus einem schlanken Kern mit gemeinsam genutzten Traits sowie einer Beispiel-Implementierung eines Bandit-Agenten, die zusammen zeigen, wie Erinnerungs-Policies modelliert, ausgefÃ¼hrt und persistiert werden kÃ¶nnen.

## Inhaltsverzeichnis

1. [Schnellstart](#schnellstart)
2. [ArchitekturÃ¼berblick](#architekturÃ¼berblick)
3. [Crates](#crates)
4. [Beispiel ausfÃ¼hren](#beispiel-ausfÃ¼hren)
5. [WeiterfÃ¼hrende Dokumentation](#weiterfÃ¼hrende-dokumentation)
6. [Installation / Entwicklung](#installation--entwicklung)
7. [Beitragen](#beitragen)

## Schnellstart

Voraussetzungen:

* [Rust](https://www.rust-lang.org/tools/install) ab Version 1.70

Repository klonen und Beispiel ausfÃ¼hren:

```bash
git clone https://github.com/heimgewebe/heimlern.git
cd heimlern
cargo run --example integrate_hauski
```

## ArchitekturÃ¼berblick

* **Policies** sind Strategien, die auf Basis eines `Context` Entscheidungen (`Decision`) treffen und Ã¼ber Feedback lernen.
* **Snapshots** sichern und laden den internen Zustand einer Policy als JSON, sodass Agenten zwischen Sessions fortgefÃ¼hrt werden kÃ¶nnen.
* **Bandit-Implementierungen** kombinieren Exploration (Zufall) und Exploitation (Heuristik), um passende Erinnerungs-Slots zu wÃ¤hlen.

Die zentralen Entwurfsentscheidungen sind in den [Architecture Decision Records](docs/adr/README.md) dokumentiert.

## Crates

| Crate | Zweck |
| --- | --- |
| [`heimlern-core`](crates/heimlern-core) | Definiert die Basistypen `Context`, `Decision` sowie das `Policy`-Trait und beschreibt das JSON-basierte Snapshot-Interface. |
| [`heimlern-bandits`](crates/heimlern-bandits) | EnthÃ¤lt den Beispielagenten `RemindBandit`, der Ã¼ber Îµ-greedy Exploration Erinnerungs-Slots auswÃ¤hlt. |

## Beispiel ausfÃ¼hren

Das Beispiel `integrate_hauski` simuliert einen einfachen Ablauf: Es erstellt Kontextdaten, ruft den Bandit zur Entscheidungsfindung auf und demonstriert den Snapshot-Mechanismus.

```bash
cargo run --example integrate_hauski
```

Die Ausgabe enthÃ¤lt die gewÃ¤hlte Aktion, den Grund (Exploration oder Heuristik) und den in JSON serialisierten Kontext.

FÃ¼r schnelle Smoke-Tests des Banditen eignet sich auÃŸerdem das Beispiel `decide`. Es liest einen Kontext aus `stdin` (oder verwendet Defaults) und gibt die Entscheidung als JSON im [Policy-Schema](crates/heimlern-core/src/policy.rs) aus:

```bash
echo '{}' | cargo run -p heimlern-bandits --example decide
```

Ersetze `{}` durch einen gewÃ¼nschten Kontext, um andere Slots oder Heuristiken zu prÃ¼fen.

## WeiterfÃ¼hrende Dokumentation

* [ADR-Index](docs/adr/README.md) â€“ Ãœbersicht und Motivation hinter den Architekturentscheidungen.
* Policy-Lifecycle: `docs/policy-lifecycle.md`
* Inline-Rustdocs in den Crates (`cargo doc --open`) erlÃ¤utern Strukturen, Traits und das Snapshot-Format im Detail.

### Beispiel: AuÃŸensensor-Events grob scoren

```bash
# kompiliert und liest JSONL aus Datei oder stdin
cargo run -p heimlern-core --example ingest_events -- data/samples/aussensensor.jsonl
```
Die Ausgabe listet pro Zeile einen Score (0..1) und den Titel (falls vorhanden).

## Installation / Entwicklung

### Anforderungen
- Rust (stable)
- Cargo

### Schnellstart
```bash
git clone https://github.com/heimgewebe/heimlern.git
cd heimlern
cargo build --workspace
cargo test  --workspace
```

## Beitragen
Siehe [CONTRIBUTING.md](CONTRIBUTING.md).
```

### ðŸ“„ requirements-tools.txt

**GrÃ¶ÃŸe:** 20 B | **md5:** `d862a99e1534a974ea0523f43a48a910`

```plaintext
jsonschema>=4.22,<5
```

